var t=Object.defineProperty,s=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(s,e,a)=>e in s?t(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,u=(t,u)=>{for(var i in u||(u={}))e.call(u,i)&&r(t,i,u[i]);if(s)for(var i of s(u))a.call(u,i)&&r(t,i,u[i]);return t};import{n as i}from"./vendor.fa45f8ae.js";class l extends i{}class p extends l{constructor(t){super(),this.api=t}}class n extends p{constructor(){super(...arguments),this.params={},this.res={}}get data(){const{data:t}=this.res;return t||null}set data(t){this.res.data=t}$assignParams(t){return Object.assign(this.params,t),this}}class h extends n{constructor(){super(...arguments),this.requestStatus="unrequest"}$requestStart(){return this.requestStatus="requesting",this}$requestSuccess(t){return 0===t.code&&t.data?(this.requestStatus="success",this.res=u({},t),this):(0!==t.code&&t.data&&(this.res=u({},t)),this.requestStatus="error",this)}async loadData(){return this.$requestStart(),this.$requestSuccess(await this.baseAjaxMethod())}}class o extends n{constructor(){super(...arguments),this.params={limit:9,page:0},this.list=[],this.pullDownStatus="unrequest",this.pullUpStatus="unrequest"}$pullDownStart(){return this.params.page=0,this.pullDownStatus="unrequest",this.pullUpStatus="unrequest",this}$pullDownSuccess(t){const{code:s,data:e}=t;if(!t||0!==s||!e)return this.pullDownStatus="error",this;const a=e.list.length;return a===this.params.limit?(this.pullDownStatus="success",this.params.page++):this.pullUpStatus=a?"done":"empty",this.list=[...e.list],this}async pullDown(){this.$pullDownStart();const t=await this.baseAjaxMethod();return this.$pullDownSuccess(t),this}$pullUpStart(){return this.pullUpStatus="requesting",this}$pullUpSuccess(t){const{code:s,data:e}=t;if(!t||0!==s||!e)return this.pullUpStatus="error",this;const a=e.list.length;return a===this.params.limit?(this.pullUpStatus="success",this.params.page++):this.params.page||a?this.pullUpStatus="done":this.pullUpStatus="empty",this.list.push(...e.list),this}async pullUp(){this.$pullUpStart();const t=await this.baseAjaxMethod();return this.$pullUpSuccess(t),this}$clearData(){return this.list=[],this.params.page=0,this.pullDownStatus="unrequest",this.pullUpStatus="unrequest",this}}export{o as B,h as a,p as b};
